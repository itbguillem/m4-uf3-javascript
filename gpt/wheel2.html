<!DOCTYPE html>
<html>
<head>
    <title>Name Picker Wheel</title>
    <style>
        /* CSS styles for the name picker wheel */
        h1 {
            text-align: center;
        }

        #spinButton {
            display: block;
            margin: 0 auto;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            background-color: #91d629;
            color: #333;
            cursor: pointer;
        }

        #wheel {
            position: relative;
            margin: 50px auto;
            width: 400px;
            height: 400px;
            border: 2px solid #333;
            border-radius: 50%;
            overflow: hidden;
        }

        .slice {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform-origin: 50% 100%;
            transition: transform 3s ease-in-out;
        }

        .name {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
    <body>
        <h1>Name Picker Wheel</h1>
        <button id="spinButton">Spin</button>
        <div id="wheel"></div>
        <script>
            fetch('names.txt')
    .then(response => response.text())
    .then(data => {
        const names = data.trim().split(/\s+/);

        const sliceCount = names.length;
        const sliceAngle = 360 / sliceCount;
        const sliceSize = 100 / sliceCount; // Percentage of the wheel occupied by each slice

        let wheelHTML = '';

        names.forEach((name, index) => {
            const startAngle = index * sliceAngle;
            const endAngle = startAngle + sliceAngle;

            wheelHTML += `<div class="slice" style="transform: rotate(${startAngle}deg) skew(${sliceAngle}deg);">
                <div class="name">${name}</div>
            </div>`;
        });

        document.getElementById('wheel').innerHTML = wheelHTML;

        function pickName() {
            const randomIndex = Math.floor(Math.random() * names.length);
            return names[randomIndex];
        }

        // Function to spin the wheel
        function spinWheel() {
            const wheel = document.getElementById('wheel');
            const spinButton = document.getElementById('spinButton');

            spinButton.disabled = true;

            const randomRotations = 5 + Math.floor(Math.random() * 6); // Random number of rotations between 5 and 10
            const totalRotation = randomRotations * 360 + Math.floor(Math.random() * 360); // Random final rotation

            wheel.style.transition = 'transform 3s ease-in-out';
            wheel.style.transform = `rotate(${totalRotation}deg)`;

            setTimeout(() => {
                spinButton.disabled = false;

                const winner = pickName();

                alert(`The winner is: ${winner}`);
            }, 3000);
        }

        document.getElementById('spinButton').addEventListener('click', spinWheel);
    })
    .catch(error => {
        console.log('Error:', error);
    });
        </script>
    </body>
</html>